!function(){"use strict";var n=angular.module("roberthodgen.countdown",[]);n.constant("COUNTDOWN_CLASSES",{normal:"countdown-normal",warn:"countdown-warn",danger:"countdown-danger"}),n.directive("countdown",["COUNTDOWN_CLASSES","$interval",function(n,e){function t(t,a,r){function o(){var o=null;try{o=t.$eval(r.endTimestamp)}catch(c){o=r.endTimestamp}if(!angular.isDefined(o)||null===o)return a.removeClass(l),void a.text("");var m=d;if(d=new Date(o).getTime()-Date.now(),d=Math.max(Math.floor(d/1e3),0),m!==d){var f=l;l=n.normal,i>=d&&(l=n.warn),s>=d&&(l=n.danger),l!==f&&(a.removeClass(f),a.addClass(l)),a.text(d),0===d&&e.cancel(u)}}function c(){e.cancel(u),u=e(o,1e3)}var u=null,l=null,d=null,i=parseInt(r.warnSeconds,10)||10,s=parseInt(r.dangerSeconds,10)||5;t.$watch(function(){try{return t.$eval(r.endTimestamp)}catch(n){return r.endTimestamp}},function(){o(),c()}),t.$on("$destroy",function(){e.cancel(u)})}function a(n){return n.addClass("countdown"),t}return{restirct:"AE",compile:a}}])}();